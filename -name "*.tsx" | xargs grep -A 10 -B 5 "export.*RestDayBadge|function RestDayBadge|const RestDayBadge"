[33mcommit a14a8faa30cc9256bcad024ca8f678b9ac51b95e[m[33m ([m[1;36mHEAD[m[33m -> [m[1;32mmain[m[33m, [m[1;31morigin/main[m[33m, [m[1;31morigin/HEAD[m[33m)[m
Author: ericlau85 <ericlau85@icloud.com>
Date:   Tue Dec 16 19:05:07 2025 +0800

    æ›´æ–°: 19:05

[1mdiff --git a/app/components/Navigation.tsx b/app/components/Navigation.tsx[m
[1mindex 8661ae0..56ad17c 100644[m
[1m--- a/app/components/Navigation.tsx[m
[1m+++ b/app/components/Navigation.tsx[m
[36m@@ -5,6 +5,7 @@[m [mimport { useState, useEffect, useRef } from 'react';[m
 import Link from 'next/link';[m
 import { usePathname } from 'next/navigation';[m
 import { useLanguage } from '../../lib/language-context';[m
[32m+[m[32mimport { getRestDayInfo } from '../../lib/rest-day-utils';[m
 [m
 export default function Navigation() {[m
   const { language, setLanguage } = useLanguage();[m
[36m@@ -12,6 +13,9 @@[m [mexport default function Navigation() {[m
   const [showMobileMenu, setShowMobileMenu] = useState(false);[m
   const [showLanguageDropdown, setShowLanguageDropdown] = useState(false);[m
   const [showMobileLanguageSheet, setShowMobileLanguageSheet] = useState(false);[m
[32m+[m[32m  const [isRestDay, setIsRestDay] = useState(false);[m
[32m+[m[32m  const [restDayType, setRestDayType] = useState<'saturday' | 'new_moon' | 'full_moon' | null>(null);[m
[32m+[m[41m  [m
   const pathname = usePathname();[m
   const dropdownRef = useRef<HTMLDivElement>(null);[m
 [m
[36m@@ -33,6 +37,50 @@[m [mexport default function Navigation() {[m
     return () => document.removeEventListener('mousedown', handleClickOutside);[m
   }, []);[m
 [m
[32m+[m[32m  // è·å–ä¼‘æ¯æ—¥ä¿¡æ¯[m
[32m+[m[32m  useEffect(() => {[m
[32m+[m[32m    const info = getRestDayInfo(language === 'zh' ? 'zh' : 'en');[m
[32m+[m[32m    setIsRestDay(info.isRestDay);[m
[32m+[m[32m    setRestDayType(info.type);[m
[32m+[m[41m    [m
[32m+[m[32m    // å­—ä½“å›¾æ ‡[m
[32m+[m[32m    const link = document.createElement('link');[m
[32m+[m[32m    link.rel = 'stylesheet';[m
[32m+[m[32m    link.href = 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css';[m
[32m+[m[32m    document.head.appendChild(link);[m
[32m+[m[41m    [m
[32m+[m[32m    return () => {[m
[32m+[m[32m      document.head.removeChild(link);[m
[32m+[m[32m    };[m
[32m+[m[32m  }, [language]);[m
[32m+[m
[32m+[m[32m  // ä¼‘æ¯æ—¥å¾½ç« ç»„ä»¶[m
[32m+[m[32m  const RestDayBadge = () => {[m
[32m+[m[32m    if (!isRestDay) return null;[m
[32m+[m[41m    [m
[32m+[m[32m    const getBadgeText = () => {[m
[32m+[m[32m      switch(restDayType) {[m
[32m+[m[32m        case 'saturday':[m
[32m+[m[32m          return language === 'zh' ? 'å‘¨å…­ä¼‘' : 'Sat';[m
[32m+[m[32m        case 'new_moon':[m
[32m+[m[32m          return language === 'zh' ? 'æ–°æœˆ' : 'New';[m
[32m+[m[32m        case 'full_moon':[m
[32m+[m[32m          return language === 'zh' ? 'æ»¡æœˆ' : 'Full';[m
[32m+[m[32m        default:[m
[32m+[m[32m          return language === 'zh' ? 'ä¼‘æ¯' : 'Rest';[m
[32m+[m[32m      }[m
[32m+[m[32m    };[m
[32m+[m[41m    [m
[32m+[m[32m    return ([m
[32m+[m[32m      <div className="flex items-center gap-1 ml-1">[m
[32m+[m[32m        <div className="w-1.5 h-1.5 bg-green-800 rounded-full animate-pulse"></div>[m
[32m+[m[32m        <span className="text-green-800 text-[8px] font-medium px-1.5 py-0.5 rounded">[m
[32m+[m[32m          {getBadgeText()}[m
[32m+[m[32m        </span>[m
[32m+[m[32m      </div>[m
[32m+[m[32m    );[m
[32m+[m[32m  };[m
[32m+[m
   // é€‰æ‹©è¯­è¨€å‡½æ•°[m
   const handleLanguageSelect = (langCode: string) => {[m
     if (langCode !== language) {[m
[36m@@ -71,7 +119,7 @@[m [mexport default function Navigation() {[m
 [m
             <div className="flex items-center gap-2">[m
               [m
[31m-              {/* æ¡Œé¢ç«¯å¯¼èˆªé“¾æ¥ */}[m
[32m+[m[32m              {/* æ¡Œé¢ç«¯å¯¼èˆªé“¾æ¥ - åŒ…å«ä¼‘æ¯æ—¥å¾½ç«  */}[m
               <div className="hidden md:flex items-center gap-4 mr-4">[m
                 <Link href="/courses/ashtanga" className={`px-3 py-1 text-xs ${isCurrent('/courses/ashtanga') ? 'text-red-800 font-bold border-b-2 border-red-800' : 'text-gray-700 hover:text-red-800'}`}>[m
                   {language === 'zh' ? 'é˜¿æ–¯æ±¤åŠ ' : 'Ashtanga'}[m
[36m@@ -79,17 +127,20 @@[m [mexport default function Navigation() {[m
                 <Link href="/courses/sanskrit" className={`px-3 py-1.5 text-xs ${isCurrent('/courses/sanskrit') ? 'text-red-800 font-bold border-b-2 border-red-800' : 'text-gray-700 hover:text-red-800'}`}>[m
                   {language === 'zh' ? 'æ¢µè¯­è¯¾ç¨‹' : 'Sanskrit Studies'}[m
                 </Link>[m
[31m-                <Link href="/moon-calendar" className={`px-3 py-1 text-xs ${isCurrent('/moon-calendar') ? 'text-red-800 font-bold border-b-2 border-red-800' : 'text-gray-700 hover:text-red-800'}`}>[m
[32m+[m[41m                [m
[32m+[m[32m                {/* ä¼‘æ¯æ—¥é“¾æ¥ - åŒ…å«å¾½ç«  */}[m
[32m+[m[32m                <Link href="/moon-calendar" className={`px-3 py-1 text-xs flex items-center ${isCurrent('/moon-calendar') ? 'text-red-800 font-bold border-b-2 border-red-800' : 'text-gray-700 hover:text-red-800'}`}>[m
                   {language === 'zh' ? 'ä¼‘æ¯æ—¥' : 'Rest Days'}[m
[32m+[m[32m                  {isRestDay && <RestDayBadge />}[m
                 </Link>[m
[32m+[m[41m                [m
                 <Link href="/knowledge" className={`px-3 py-1.5 text-xs ${isCurrent('/knowledge') ? 'text-red-800 font-bold border-b-2 border-red-800' : 'text-gray-700 hover:text-red-800'}`}>[m
                   {language === 'zh' ? 'ç»ƒä¹ æŒ‡å—' : 'Practice Guide'}[m
                 </Link>[m
               </div>[m
 [m
[31m-              {/* ğŸ¯ ç§»åŠ¨ç«¯ï¼šä¸‰ä¸ªå›¾æ ‡å¹¶æ’ (èœå•ã€è¯­è¨€ã€å¾®ä¿¡) */}[m
[32m+[m[32m              {/* ç§»åŠ¨ç«¯ï¼šä¸‰ä¸ªå›¾æ ‡å¹¶æ’ */}[m
               <div className="md:hidden flex items-center gap-3">[m
[31m-                {/* èœå•æŒ‰é’® */}[m
                 <button[m
                   onClick={() => setShowMobileMenu(!showMobileMenu)}[m
                   className="w-8 h-8 flex items-center justify-center text-gray-700"[m
[36m@@ -98,7 +149,6 @@[m [mexport default function Navigation() {[m
                   {showMobileMenu ? 'âœ•' : 'â˜°'}[m
                 </button>[m
                 [m
[31m-                {/* è¯­è¨€å›¾æ ‡ */}[m
                 <button[m
                   onClick={() => setShowMobileLanguageSheet(true)}[m
                   className="w-8 h-8 flex items-center justify-center text-gray-700"[m
[36m@@ -107,7 +157,6 @@[m [mexport default function Navigation() {[m
                   <img src="/images/globe.svg" alt="Language" className="w-4 h-4" />[m
                 </button>[m
                 [m
[31m-                {/* å¾®ä¿¡å›¾æ ‡ */}[m
                 <button[m
                   onClick={() => setShowWechat(true)}[m
                   className="w-8 h-8 flex items-center justify-center text-green-800"[m
[36m@@ -117,9 +166,8 @@[m [mexport default function Navigation() {[m
                 </button>[m
               </div>[m
 [m
[31m-              {/* ğŸ¯ æ¡Œé¢ç«¯ï¼šè¯­è¨€å›¾æ ‡ + å¾®ä¿¡å›¾æ ‡ */}[m
[32m+[m[32m              {/* æ¡Œé¢ç«¯ï¼šè¯­è¨€å›¾æ ‡ + å¾®ä¿¡å›¾æ ‡ */}[m
               <div className="hidden md:flex items-center gap-3">[m
[31m-                {/* è¯­è¨€åˆ‡æ¢ */}[m
                 <div className="relative" ref={dropdownRef}>[m
                   <button[m
                     onClick={() => setShowLanguageDropdown(!showLanguageDropdown)}[m
[36m@@ -129,14 +177,13 @@[m [mexport default function Navigation() {[m
                     <img src="/images/globe.svg" alt="Language" className="w-3.5 h-3.5" />[m
                   </button>[m
                   [m
[31m-                  {/* ä¸‹æ‹‰èœå• */}[m
                   {showLanguageDropdown && ([m
                     <div className="absolute top-full left-1/2 transform -translate-x-1/2 mt-1 bg-white border border-gray-200 rounded-lg shadow-xl py-1 min-w-[110px] z-50">[m
                       {languageOptions.map((lang) => ([m
                         <button[m
                           key={lang.code}[m
                           onClick={() => handleLanguageSelect(lang.code)}[m
[31m-                          className={`w-full text-left px-3 py-1.5 text-[11px] hover:bg-gray-50 transition-colors ${language === lang.code ? 'text-red-800 font-medium' : 'text-gray-700'}`}[m
[32m+[m[32m                          className={`w-full text-left px-3 py-1.5 text-[11px] hover:bg-gray-50 transition-colors ${language === lang.code ? 'text-red-900 font-medium' : 'text-gray-700'}`}[m
                         >[m
                           {lang.name}[m
                         </button>[m
[36m@@ -145,7 +192,6 @@[m [mexport default function Navigation() {[m
                   )}[m
                 </div>[m
                 [m
[31m-                {/* å¾®ä¿¡å›¾æ ‡ */}[m
                 <button[m
                   onClick={() => setShowWechat(true)}[m
                   className="w-8 h-8 flex items-center justify-center text-green-800 hover:text-green-700"[m
[36m@@ -167,9 +213,35 @@[m [mexport default function Navigation() {[m
                 <Link href="/courses/sanskrit" className={`px-3 py-2 text-xs rounded-lg ${isCurrent('/courses/sanskrit') ? 'text-red-800 font-bold bg-gray-100' : 'text-gray-700 hover:bg-gray-50'}`} onClick={() => setShowMobileMenu(false)}>[m
                   {language === 'zh' ? 'æ¢µè¯­è¯¾ç¨‹' : 'Sanskrit Studies'}[m
                 </Link>[m
[31m-                <Link href="/moon-calendar" className={`px-3 py-2 text-xs rounded-lg ${isCurrent('/moon-calendar') ? 'text-red-800 font-bold bg-gray-100' : 'text-gray-700 hover:bg-gray-50'}`} onClick={() => setShowMobileMenu(false)}>[m
[31m-                  {language === 'zh' ? 'ä¼‘æ¯æ—¥' : 'Rest Days'}[m
[32m+[m[41m                [m
[32m+[m[32m                {/* ç§»åŠ¨ç«¯ä¼‘æ¯æ—¥é“¾æ¥ */}[m
[32m+[m[32m                <Link[m
[32m+[m[32m                  href="/moon-calendar"[m
[32m+[m[32m                  className={`px-3 py-2 text-xs rounded-lg flex items-center justify-between ${isCurrent('/moon-calendar')[m[41m [m
[32m+[m[32m                    ? 'text-red-800 font-bold bg-gray-100'[m
[32m+[m[32m                    : 'text-gray-700 hover:bg-gray-50'}`}[m
[32m+[m[32m                  onClick={() => setShowMobileMenu(false)}[m
[32m+[m[32m                >[m
[32m+[m[32m                  <div className="flex items-center gap-2">[m
[32m+[m[32m                    <span>{language === 'zh' ? 'ä¼‘æ¯æ—¥' : 'Rest Days'}</span>[m
[32m+[m[32m                    {isRestDay && ([m
[32m+[m[32m                      <div className="flex items-center gap-1">[m
[32m+[m[32m                        <div className="w-2 h-2 bg-green-800 rounded-full animate-pulse"></div>[m
[32m+[m[32m                        {restDayType === 'saturday' && ([m
[32m+[m[32m                          <span className="text-green-800 text-[10px] font-medium">[m
[32m+[m[32m                            {language === 'zh' ? 'å‘¨å…­ä¼‘æ¯' : 'Saturday'}[m
[32m+[m[32m                          </span>[m
[32m+[m[32m                        )}[m
[32m+[m[32m                        {(restDayType === 'new_moon' || restDayType === 'full_moon') && ([m
[32m+[m[32m                          <span className="text-red-600 text-[10px] font-medium">[m
[32m+[m[32m                            {language === 'zh' ? 'æœˆç›¸ä¼‘æ¯' : 'Moon Day'}[m
[32m+[m[32m                          </span>[m
[32m+[m[32m                        )}[m
[32m+[m[32m                      </div>[m
[32m+[m[32m                    )}[m
[32m+[m[32m                  </div>[m
                 </Link>[m
[32m+[m[41m                [m
                 <Link href="/knowledge" className={`px-3 py-2 text-xs rounded-lg ${isCurrent('/knowledge') ? 'text-red-800 font-bold bg-gray-100' : 'text-gray-700 hover:bg-gray-50'}`} onClick={() => setShowMobileMenu(false)}>[m
                   {language === 'zh' ? 'ç»ƒä¹ æŒ‡å—' : 'Practice Guide'}[m
                 </Link>[m
[36m@@ -179,32 +251,28 @@[m [mexport default function Navigation() {[m
         </div>[m
       </nav>[m
 [m
[31m-      {/* ğŸ¯ ç§»åŠ¨ç«¯è¯­è¨€é€‰æ‹©åº•éƒ¨å¼¹çª— */}[m
[32m+[m[32m      {/* ç§»åŠ¨ç«¯è¯­è¨€é€‰æ‹© */}[m
       {showMobileLanguageSheet && ([m
         <>[m
[31m-          {/* èƒŒæ™¯é®ç½© */}[m
           <div[m
             className="fixed inset-0 z-[60] bg-black/40 backdrop-blur-sm md:hidden"[m
             onClick={() => setShowMobileLanguageSheet(false)}[m
           />[m
           [m
[31m-          {/* åº•éƒ¨å¼¹çª— */}[m
           <div className="fixed bottom-0 left-0 right-0 z-[70] bg-white rounded-t-2xl shadow-2xl md:hidden animate-slide-up max-h-[70vh]">[m
             <div className="p-1">[m
[31m-              {/* æ‹–æ‹½æ‰‹æŸ„ */}[m
               <div className="flex justify-center py-3">[m
                 <div className="w-12 h-1 bg-gray-300 rounded-full"></div>[m
               </div>[m
               [m
[31m-              {/* è¯­è¨€é€‰é¡¹åˆ—è¡¨ */}[m
               <div className="px-2 pb-4">[m
                 {languageOptions.map((lang) => ([m
                   <button[m
                     key={lang.code}[m
                     onClick={() => handleLanguageSelect(lang.code)}[m
[31m-                    className={`w-full text-left px-3 py-1.5 text-[11px] hover:bg-gray-50 transition-colors ${language === lang.code ? 'text-red-800 font-medium' : 'text-gray-700'}`}[m
[32m+[m[32m                    className={`w-full text-left px-3 py-1.5 text-[11px] hover:bg-gray-50 transition-colors ${language === lang.code ? 'text-red-900 font-medium' : 'text-gray-700'}`}[m
                   >[m
[31m-                    <span className={`font-medium ${language === lang.code ? 'text-red-800' : 'text-gray-800'}`}>[m
[32m+[m[32m                    <span className={`font-medium ${language === lang.code ? 'text-red-900' : 'text-gray-800'}`}>[m
                       {lang.name}[m
                     </span>[m
                   </button>[m
[36m@@ -239,7 +307,6 @@[m [mexport default function Navigation() {[m
         </div>[m
       )}[m
 [m
[31m-      {/* å…¨å±€æ ·å¼ */}[m
       <style jsx global>{`[m
         @keyframes slide-up {[m
           from { transform: translateY(100%); }[m
